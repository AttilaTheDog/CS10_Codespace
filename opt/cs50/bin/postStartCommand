#!/bin/bash

# Start Docker outside of Docker
sudo nohup /etc/init.d/docker start > /dev/null 2>&1

# Loop through the array and pull each image in background
nohup bash -c '
docker_images=(
    "cs50/cli:amd64"
    "rocker/tidyverse"
)
for image in "${docker_images[@]}"; do
    docker pull "$image" > /dev/null 2>&1
done
docker image prune --force
' > /dev/null 2>&1 &